<!DOCTYPE html>
<html
  lang="ko"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{admin/layout/adminlayout}"
>
  <!-- 각 페이지의 title -->
  <th:block layout:fragment="title">
    <title>도서수정</title>
  </th:block>

  <!-- 각 페이지의 css -->
  <th:block layout:fragment="css">
    <link href="/css/admin/book/bookedit.css" rel="stylesheet" />
  </th:block>
  
  <body class="hold-transition skin-blue sidebar-mini">
    <th:block layout:fragment="content">
      <script src="/css/admin/plugins/ckeditor/ckeditor.js"></script>
      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>도서 수정</h1>
          <ol class="breadcrumb">
            <li>
              <a href="#"><i class="fa fa-dashboard"></i> Level</a>
            </li>
            <li class="active">Here</li>
          </ol>
        </section>

        <!-- start : 메인 내용 -->
        <section class="content">
          <div class="row">
            <div class="col">
              <form th:action="@{/admin/book/bookedit}" th:method="post" enctype="multipart/form-data" class="form-horizontal">
                <div class="box-body">
                  <div class="form-group row">
                    <label for="btnFirstCategory" class="col-sm-2 col-form-labell">1차 카테고리</label>
                    <div class="col-sm-4">
                      <select class="form-control" id="btnFirstCategory">
                        <option>1차 카테고리 선택</option>
                        <option
                          th:each="category : ${cateList}"
                          th:value="${category.c_code}"
                          th:text="${category.c_name}"
                          th:selected="${category.c_code == c_pcode}"
                        ></option>
                      </select>
                    </div>

                    <label for="btnSecondCategory" class="col-sm-2 col-form-label">2차 카테고리</label>
                    <div class="col-sm-4">
                      <select class="form-control" id="btnSecondCategory" name="c_code">
                        <option>2차 카테고리 선택</option>
                        <option
                          th:each="subCategory : ${subCateList}"
                          th:value="${subCategory.c_code}"
                          th:text="${subCategory.c_name}"
                          th:selected="${subCategory.c_code == bookVO.c_code}"
                        ></option>
                      </select>
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="book_name" class="col-sm-2 col-form-label">도서명</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_name"
                        id="book_name"
                        th:value="${bookVO.book_name}"
                        placeholder="도서명 입력..."
                      />
                      <input type="hidden" class="form-control" name="book_bno" th:value="${bookVO.book_bno}" />
                    </div>
                    <label for="book_deposit" class="col-sm-2 col-form-label">도서보증금</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_deposit"
                        id="book_deposit"
                        th:value="${bookVO.book_deposit}"
                        placeholder="도서보증금 입력..."
                      />
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="book_author" class="col-sm-2 col-form-label">저자</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_author"
                        id="book_author"
                        th:value="${bookVO.book_author}"
                        placeholder="저자 입력..."
                      />
                    </div>
                    <label for="book_publishing_date" class="col-sm-2 col-form-label">출간일</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_publishing_date"
                        id="book_publishing_date"
                        th:value="${bookVO.book_publishing_date}"
                        placeholder="출간일 입력(yyyy/mm/ss)..."
                      />
                    </div>
                  </div>

                  <div class="form-group row">
                    <label for="book_deposit_discount" class="col-sm-2 col-form-label">할인율</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_deposit_discount"
                        id="book_deposit_discount"
                        th:value="${bookVO.book_deposit_discount}"
                        placeholder="할인율 입력..."
                      />
                    </div>
                    <label for="book_publisher" class="col-sm-2 col-form-label">출판사</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_publisher"
                        th:value="${bookVO.book_publisher}"
                        id="book_publisher"
                        placeholder="출판사 입력..."
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="book_isbn" class="col-sm-2 col-form-label">ISBN</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_isbn"
                        th:value="${bookVO.book_isbn}"
                        id="book_isbn"
                        placeholder="ISBN 입력..."
                      />
                    </div>
                    <label for="book_page" class="col-sm-2 col-form-label">페이지수</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_page"
                        th:value="${bookVO.book_page}"
                        id="book_page"
                        placeholder="페이지수 입력..."
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="book_amount" class="col-sm-2 col-form-label">수량</label>
                    <div class="col-sm-4">
                      <input
                        type="text"
                        class="form-control"
                        name="book_amount"
                        id="book_amount"
                        th:value="${bookVO.book_amount}"
                        placeholder="수량 입력..."
                      />
                    </div>
                    <label for="book_loan" class="col-sm-2 col-form-label">대출여부</label>
                    <div class="col-sm-4">
                      <select class="form-control" id="book_loan" name="book_loan">
                        <option value="Y" th:selected="${bookVO.book_loan == 'Y'}">대출가능</option>
                        <option value="N" th:selected="${bookVO.book_loan == 'N'}">대출불가능</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="uploadFile" class="col-sm-2 col-form-label">도서이미지</label>
                    <div class="col-sm-4">
                      <!-- 기존 도서 이미지 정보 -->
                      <input type="hidden" class="form-control" name="book_img" th:value="${bookVO.book_img}" />
                      <input type="hidden" class="form-control" name="book_up_folder" th:value="${bookVO.book_up_folder}" />
                      <input type="file" class="form-control" name="uploadFile" id="uploadFile" />
                    </div>
                    <label for="img_preview" class="col-sm-2 col-form-label">미리보기 이미지</label>
                    <div class="col-sm-4">
                      <img
                        id="img_preview"
                        th:src="${'/admin/book/imagedisplay?dateFolderName=' + bookVO.book_up_folder + '&fileName=s_' + bookVO.book_img}"
                      />
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="book_content" class="col-sm-2 col-form-label">도서설명</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" name="book_content" th:text="${bookVO.book_content}" id="book_content" rows="3"></textarea>
                    </div>
                  </div>
                </div>

                <div class="text-center">
                  <button type="submit" class="btn btn-primary">도서수정</button>
                  <a type="button" class="btn btn-primary" id="btn_book_insert" th:href="@{/admin/book/booklist}">취소</a>
                </div>
              </form>
            </div>
          </div>
        </section>
        <!-- end : 매엔내용 -->
      </div>
    </th:block>
    <th:block layout:fragment="script">
      <script src="/js/admin/book/bookedit.js"></script>
    </th:block>
  </body>
</html>
